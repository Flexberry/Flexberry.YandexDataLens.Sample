




CREATE TABLE Airport (
 primaryKey UUID NOT NULL,
 AirportName VARCHAR(255) NOT NULL,
 City VARCHAR(255) NOT NULL,
 Coordinates POINT NOT NULL,
 Timezone VARCHAR(255) NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE Flight (
 primaryKey UUID NOT NULL,
 ActualArrival TIMESTAMP(3) NOT NULL,
 ActualDeparture TIMESTAMP(3) NOT NULL,
 Arrival TIMESTAMP(3) NOT NULL,
 Departure TIMESTAMP(3) NOT NULL,
 FlightNumber VARCHAR(10) NOT NULL,
 Status VARCHAR(9) NOT NULL,
 Aircraft UUID NOT NULL,
 ArrivalAirport UUID NOT NULL,
 DepartureAirport UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE Passenger (
 primaryKey UUID NOT NULL,
 Citizenship VARCHAR(2) NULL,
 BirthDate TIMESTAMP(3) NOT NULL,
 Name VARCHAR(255) NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE Aircraft (
 primaryKey UUID NOT NULL,
 Model JSONB NOT NULL,
 Range INT NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE Seat (
 primaryKey UUID NOT NULL,
 FareCondition VARCHAR(8) NOT NULL,
 Number VARCHAR(4) NOT NULL,
 Aircraft UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE Pilot (
 primaryKey UUID NOT NULL,
 Age INT NOT NULL,
 Name VARCHAR(255) NOT NULL,
 Aircraft UUID NOT NULL,
 PRIMARY KEY (primaryKey));


CREATE TABLE Ticket (
 primaryKey UUID NOT NULL,
 BookingDate TIMESTAMP(3) NOT NULL,
 BookingStatus VARCHAR(7) NOT NULL,
 TicketCost DOUBLE PRECISION NOT NULL,
 Passenger UUID NOT NULL,
 Seat UUID NOT NULL,
 Flight UUID NOT NULL,
 PRIMARY KEY (primaryKey));



 ALTER TABLE Flight ADD CONSTRAINT FK8d447ac1f4919357d693cef8a87eb89049fe0755 FOREIGN KEY (Aircraft) REFERENCES Aircraft; 
CREATE INDEX Index8d447ac1f4919357d693cef8a87eb89049fe0755 on Flight (Aircraft); 

 ALTER TABLE Flight ADD CONSTRAINT FK389938cac5262b786f3aa43316c32534fb07c125 FOREIGN KEY (ArrivalAirport) REFERENCES Airport; 
CREATE INDEX Index389938cac5262b786f3aa43316c32534fb07c125 on Flight (ArrivalAirport); 

 ALTER TABLE Flight ADD CONSTRAINT FK8cef17ef4f4a7740e1bba07927c79eeea9e4b212 FOREIGN KEY (DepartureAirport) REFERENCES Airport; 
CREATE INDEX Index8cef17ef4f4a7740e1bba07927c79eeea9e4b212 on Flight (DepartureAirport); 

 ALTER TABLE Seat ADD CONSTRAINT FK05e065509169b82b98c1d9affa623b884f91f3be FOREIGN KEY (Aircraft) REFERENCES Aircraft; 
CREATE INDEX Index05e065509169b82b98c1d9affa623b884f91f3be on Seat (Aircraft); 

 ALTER TABLE Pilot ADD CONSTRAINT FK56abea70f0036b5132937c5772b2551ff759cad9 FOREIGN KEY (Aircraft) REFERENCES Aircraft; 
CREATE INDEX Index56abea70f0036b5132937c5772b2551ff759cad9 on Pilot (Aircraft); 

 ALTER TABLE Ticket ADD CONSTRAINT FK1c2f33828a87f07e8ce79237270776c557052f52 FOREIGN KEY (Passenger) REFERENCES Passenger; 
CREATE INDEX Index1c2f33828a87f07e8ce79237270776c557052f52 on Ticket (Passenger); 

 ALTER TABLE Ticket ADD CONSTRAINT FK9ee6301121a7128d099379714a16a901c282b445 FOREIGN KEY (Seat) REFERENCES Seat; 
CREATE INDEX Index9ee6301121a7128d099379714a16a901c282b445 on Ticket (Seat); 

 ALTER TABLE Ticket ADD CONSTRAINT FK9bedc4913b5eee7f1e622f5555ceb2ec9ee72c22 FOREIGN KEY (Flight) REFERENCES Flight; 
CREATE INDEX Index9bedc4913b5eee7f1e622f5555ceb2ec9ee72c22 on Ticket (Flight);
